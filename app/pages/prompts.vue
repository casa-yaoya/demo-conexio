<template>
  <div class="prompts-page">
    <div class="page-header">
      <h1 class="page-title">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†</h1>
      <p class="page-description">ãƒ•ãƒ­ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å‡¦ç†è©³ç´°ã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¡¨ç¤º</p>
    </div>

    <!-- ãƒ•ãƒ­ãƒ¼1: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
    <div class="flow-section">
      <div class="flow-section-header">
        <span class="flow-section-number">1</span>
        <span class="flow-section-title">ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>
      </div>
      <div class="flow-container">
        <div class="flow-line">
          <!-- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
          <div class="flow-node flow-node-start" @click="openPopup('upload')">
            <div class="node-header">
              <span class="node-icon">ğŸ“</span>
              <span class="node-label">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>
            </div>
            <div class="node-desc">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼åˆ†å² -->
          <div class="flow-branch-vertical">
            <div class="branch-header">å½¢å¼åˆ¤å®š</div>
            <div class="branch-items-vertical">
              <div class="flow-node-mini" @click="openPopup('pdf')">
                <span class="node-icon-mini">ğŸ“‘</span>
                <span class="node-label-mini">PDF</span>
                <span class="node-api api-openai">GPT-4o</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('excel')">
                <span class="node-icon-mini">ğŸ“Š</span>
                <span class="node-label-mini">Excel</span>
                <span class="node-api api-lib">xlsx</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('pptx')">
                <span class="node-icon-mini">ğŸ“</span>
                <span class="node-label-mini">PPTX/Word</span>
                <span class="node-api api-lib">JSZip</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('audio')">
                <span class="node-icon-mini">ğŸµ</span>
                <span class="node-label-mini">éŸ³å£°</span>
                <span class="node-api api-openai">Whisper</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('video')">
                <span class="node-icon-mini">ğŸ¬</span>
                <span class="node-label-mini">å‹•ç”»</span>
                <span class="node-api api-openai">Whisper</span>
              </div>
            </div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ç¯„å›²é¸æŠ -->
          <div class="flow-node flow-node-question" @click="openPopup('range')">
            <div class="node-header">
              <span class="node-icon">ğŸ“</span>
              <span class="node-label">ç¯„å›²é¸æŠ</span>
            </div>
            <div class="node-desc">ãƒšãƒ¼ã‚¸/ã‚·ãƒ¼ãƒˆæŒ‡å®š</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ç¨®åˆ¥é¸æŠ -->
          <div class="flow-node flow-node-question" @click="openPopup('type')">
            <div class="node-header">
              <span class="node-icon">ğŸ·ï¸</span>
              <span class="node-label">ç¨®åˆ¥é¸æŠ</span>
            </div>
            <div class="node-desc">è¦‹æœ¬/æ•™æ/è‡ªç¤¾/é¡§å®¢</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº† -->
          <div class="flow-node flow-node-end">
            <div class="node-header">
              <span class="node-icon">âœ…</span>
              <span class="node-label">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†</span>
            </div>
            <div class="node-desc">åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ å¯èƒ½</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ•ãƒ­ãƒ¼2: ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰ -->
    <div class="flow-section">
      <div class="flow-section-header">
        <span class="flow-section-number">2</span>
        <span class="flow-section-title">ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰</span>
      </div>
      <div class="flow-container">
        <div class="flow-line">
          <!-- æ§‹ç¯‰ã‚¹ã‚¿ãƒ¼ãƒˆ -->
          <div class="flow-node flow-node-start" @click="openPopup('build-start')">
            <div class="node-header">
              <span class="node-icon">ğŸš€</span>
              <span class="node-label">æ§‹ç¯‰ã‚¹ã‚¿ãƒ¼ãƒˆ</span>
            </div>
            <div class="node-desc">ãƒœã‚¿ãƒ³æŠ¼ä¸‹</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ -->
          <div class="flow-node flow-node-question" @click="openPopup('file-select')">
            <div class="node-header">
              <span class="node-icon">ğŸ“„</span>
              <span class="node-label">ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ</span>
            </div>
            <div class="node-desc">è¤‡æ•°é¸æŠå¯</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ã‚´ãƒ¼ãƒ«é¸æŠ -->
          <div class="flow-node flow-node-question" @click="openPopup('goal')">
            <div class="node-header">
              <span class="node-icon">ğŸ¯</span>
              <span class="node-label">ã‚´ãƒ¼ãƒ«é¸æŠ</span>
            </div>
            <div class="node-desc">æš—è¨˜/èª¬æ˜/ãƒ’ã‚¢ãƒªãƒ³ã‚°ç­‰</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ -->
          <div class="flow-node flow-node-ai" @click="openPopup('build')">
            <div class="node-header">
              <span class="node-icon">ğŸ¤–</span>
              <span class="node-label">ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰</span>
              <span class="node-api api-responses">Responses API</span>
            </div>
            <div class="node-desc">ãƒã‚¤ãƒ³ãƒˆæŠ½å‡ºãƒ»å°æœ¬ç”Ÿæˆ</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- 4ãƒ¢ãƒ¼ãƒ‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ -->
          <div class="flow-branch-vertical">
            <div class="branch-header">é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ</div>
            <div class="branch-items-vertical">
              <div class="flow-node-mini" @click="openPopup('mode-subtitle')">
                <span class="node-icon-mini">ğŸ“–</span>
                <span class="node-label-mini">å°æœ¬ãƒ¢ãƒ¼ãƒ‰ç”¨</span>
                <span class="node-api api-responses">gpt-4.1</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('mode-demo')">
                <span class="node-icon-mini">âœ¨</span>
                <span class="node-label-mini">ãŠæ‰‹æœ¬ãƒ¢ãƒ¼ãƒ‰ç”¨</span>
                <span class="node-api api-responses">gpt-4.1</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('mode-confirmation')">
                <span class="node-icon-mini">âœ…</span>
                <span class="node-label-mini">ç¢ºèªãƒ¢ãƒ¼ãƒ‰ç”¨</span>
                <span class="node-api api-responses">gpt-4.1</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('mode-practice')">
                <span class="node-icon-mini">ğŸ‘”</span>
                <span class="node-label-mini">å®Ÿè·µãƒ¢ãƒ¼ãƒ‰ç”¨</span>
                <span class="node-api api-responses">gpt-4.1</span>
              </div>
            </div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- æ§‹ç¯‰å®Œäº† -->
          <div class="flow-node flow-node-end">
            <div class="node-header">
              <span class="node-icon">âœ…</span>
              <span class="node-label">æ§‹ç¯‰å®Œäº†</span>
            </div>
            <div class="node-desc">è¨­è¨ˆãƒ‘ãƒãƒ«ã«è¡¨ç¤º</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ•ãƒ­ãƒ¼3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆï¼ˆãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼‰ -->
    <div class="flow-section">
      <div class="flow-section-header">
        <span class="flow-section-number">3</span>
        <span class="flow-section-title">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆ</span>
        <span class="flow-section-badge">ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ›´æ–°</span>
      </div>
      <div class="flow-container">
        <div class="flow-line">
          <!-- ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ -->
          <div class="flow-branch-vertical">
            <div class="branch-header">ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶</div>
            <div class="branch-items-vertical">
              <div class="flow-node-mini" @click="openPopup('trigger-build')">
                <span class="node-icon-mini">âœ…</span>
                <span class="node-label-mini">æ§‹ç¯‰å®Œäº†æ™‚</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('trigger-mode')">
                <span class="node-icon-mini">ğŸ”„</span>
                <span class="node-label-mini">ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´æ™‚</span>
              </div>
              <div class="flow-node-mini" @click="openPopup('trigger-character')">
                <span class="node-icon-mini">ğŸ‘¤</span>
                <span class="node-label-mini">ç›¸æ‰‹å¤‰æ›´æ™‚</span>
              </div>
            </div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå–å¾— -->
          <div class="flow-node flow-node-data" @click="openPopup('get-subject')">
            <div class="node-header">
              <span class="node-icon">ğŸ“</span>
              <span class="node-label">é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</span>
            </div>
            <div class="node-desc">ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰å–å¾—</div>
          </div>

          <div class="flow-arrow">+</div>

          <!-- äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå–å¾— -->
          <div class="flow-node flow-node-data" @click="openPopup('get-character')">
            <div class="node-header">
              <span class="node-icon">ğŸ‘”</span>
              <span class="node-label">äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</span>
            </div>
            <div class="node-desc">ã‚­ãƒ£ãƒ©ã‹ã‚‰å–å¾—</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆ -->
          <div class="flow-node flow-node-ai" @click="openPopup('prompt-merge')">
            <div class="node-header">
              <span class="node-icon">ğŸ”—</span>
              <span class="node-label">åˆæˆå‡¦ç†</span>
            </div>
            <div class="node-desc">é¡Œæï¼‹äººæ ¼ã‚’çµåˆ</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤º -->
          <div class="flow-node flow-node-end" @click="openPopup('prompt-display')">
            <div class="node-header">
              <span class="node-icon">ğŸ‘ï¸</span>
              <span class="node-label">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤º</span>
            </div>
            <div class="node-desc">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒªã‚¢ã«è¡¨ç¤º</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ•ãƒ­ãƒ¼4: ãƒ­ãƒ¼ãƒ—ãƒ¬å®Ÿè¡Œ -->
    <div class="flow-section">
      <div class="flow-section-header">
        <span class="flow-section-number">4</span>
        <span class="flow-section-title">ãƒ­ãƒ¼ãƒ—ãƒ¬å®Ÿè¡Œ</span>
      </div>
      <div class="flow-container">
        <div class="flow-line">
          <!-- ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ -->
          <div class="flow-node flow-node-start" @click="openPopup('play-start')">
            <div class="node-header">
              <span class="node-icon">â–¶ï¸</span>
              <span class="node-label">ã‚¹ã‚¿ãƒ¼ãƒˆ</span>
            </div>
            <div class="node-desc">ãƒœã‚¿ãƒ³æŠ¼ä¸‹</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- åˆæˆæ¸ˆã¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä½¿ç”¨ -->
          <div class="flow-node flow-node-data" @click="openPopup('use-merged')">
            <div class="node-header">
              <span class="node-icon">ğŸ“‹</span>
              <span class="node-label">åˆæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</span>
            </div>
            <div class="node-desc">äº‹å‰ã«åˆæˆæ¸ˆã¿</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- éŸ³å£°ä¼šè©± -->
          <div class="flow-node flow-node-realtime" @click="openPopup('realtime')">
            <div class="node-header">
              <span class="node-icon">ğŸ¤</span>
              <span class="node-label">éŸ³å£°ä¼šè©±</span>
              <span class="node-api api-realtime">Realtime API</span>
            </div>
            <div class="node-desc">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°èªè­˜ãƒ»åˆæˆ</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ä¼šè©±ãƒ­ã‚° -->
          <div class="flow-node flow-node-data">
            <div class="node-header">
              <span class="node-icon">ğŸ’¬</span>
              <span class="node-label">ä¼šè©±ãƒ­ã‚°</span>
            </div>
            <div class="node-desc">å…¨ç™ºè©±ã‚’è¨˜éŒ²</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç”Ÿæˆ -->
          <div class="flow-node flow-node-ai" @click="openPopup('feedback')">
            <div class="node-header">
              <span class="node-icon">ğŸ“Š</span>
              <span class="node-label">è©•ä¾¡ç”Ÿæˆ</span>
              <span class="node-api api-responses">gpt-4.1</span>
            </div>
            <div class="node-desc">100ç‚¹æº€ç‚¹ã§æ¡ç‚¹</div>
          </div>

          <div class="flow-arrow">â†’</div>

          <!-- çµæœè¡¨ç¤º -->
          <div class="flow-node flow-node-end" @click="openPopup('result')">
            <div class="node-header">
              <span class="node-icon">ğŸ†</span>
              <span class="node-label">çµæœè¡¨ç¤º</span>
            </div>
            <div class="node-desc">ã‚¹ã‚³ã‚¢ãƒ»æ”¹å–„ç‚¹</div>
          </div>
        </div>
      </div>
    </div>

    <!-- APIå‡¡ä¾‹ -->
    <div class="api-legend">
      <span class="legend-title">ä½¿ç”¨API:</span>
      <span class="legend-item"><span class="node-api api-openai">GPT-4o</span> OpenAI Vision/Whisper (gpt-4o)</span>
      <span class="legend-item"><span class="node-api api-lib">lib</span> ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå‡¦ç†ï¼ˆAIä¸ä½¿ç”¨ï¼‰</span>
      <span class="legend-item"><span class="node-api api-responses">gpt-4.1</span> Responses API (gpt-4.1)</span>
      <span class="legend-item"><span class="node-api api-realtime">Realtime</span> Realtime API (gpt-4o-realtime-preview)</span>
    </div>

    <!-- ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
    <UModal v-model:open="showPopup" :title="popupTitle">
      <template #body>
        <div class="popup-content">
          <div class="popup-section">
            <h4 class="popup-section-title">å‡¦ç†æ¦‚è¦</h4>
            <p class="popup-description">{{ popupDescription }}</p>
          </div>

          <div v-if="popupApi" class="popup-section">
            <h4 class="popup-section-title">ä½¿ç”¨API</h4>
            <UBadge :color="getApiColor(popupApi)" variant="subtle">{{ popupApi }}</UBadge>
          </div>

          <div v-if="popupPrompt" class="popup-section">
            <h4 class="popup-section-title">
              ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
              <UButton
                variant="ghost"
                size="xs"
                icon="i-lucide-copy"
                class="popup-copy-btn"
                @click="copyPrompt"
              />
            </h4>
            <textarea
              v-model="popupPrompt"
              class="popup-prompt-textarea"
              :rows="15"
            />
          </div>

          <div v-if="popupFilePath" class="popup-section">
            <span class="popup-file-path">{{ popupFilePath }}</span>
          </div>
        </div>
      </template>
      <template #footer>
        <div class="popup-footer">
          <UButton variant="ghost" color="neutral" @click="showPopup = false">é–‰ã˜ã‚‹</UButton>
          <UButton v-if="popupPrompt" color="primary" @click="savePrompt">ä¿å­˜</UButton>
        </div>
      </template>
    </UModal>
  </div>
</template>

<script setup lang="ts">
definePageMeta({
  layout: 'default'
})

const showPopup = ref(false)
const popupTitle = ref('')
const popupDescription = ref('')
const popupApi = ref('')
const popupPrompt = ref('')
const popupFilePath = ref('')
const currentNodeId = ref('')

interface NodeInfo {
  title: string
  description: string
  api?: string
  filePath?: string
  prompt?: string
}

const nodeInfoMap: Record<string, NodeInfo> = {
  'upload': {
    title: 'ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',
    description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã¾ãŸã¯é¸æŠã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\n\nå¯¾å¿œå½¢å¼:\n- PDF\n- Excel (.xlsx, .xls)\n- PowerPoint (.pptx)\n- Word (.docx)\n- éŸ³å£° (MP3, WAV, M4A)\n- å‹•ç”» (MP4, MOV, WebM)\n- ãƒ†ã‚­ã‚¹ãƒˆ (.txt)',
  },
  'pdf': {
    title: 'PDFå‡¦ç†',
    description: 'PDFã‚’ç”»åƒã¨ã—ã¦èª­ã¿å–ã‚Šã€GPT-4oã®ãƒ“ã‚¸ãƒ§ãƒ³æ©Ÿèƒ½ã§ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã—ã¾ã™ã€‚å›³è¡¨ã‚„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚‚ç†è§£ã—ã¦æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã—ã¾ã™ã€‚',
    api: 'OpenAI API (GPT-4o Vision)',
    filePath: 'server/api/analyze.post.ts',
    prompt: `PDFã®å„ãƒšãƒ¼ã‚¸ã‚’ç”»åƒã¨ã—ã¦å‡¦ç†ã—ã€ä»¥ä¸‹ã®æŒ‡ç¤ºã«å¾“ã£ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ï¼š

1. ãƒšãƒ¼ã‚¸ã®å†…å®¹ã‚’æ­£ç¢ºã«èª­ã¿å–ã‚‹
2. è¦‹å‡ºã—ã€æœ¬æ–‡ã€ãƒªã‚¹ãƒˆãªã©ã®æ§‹é€ ã‚’ç¶­æŒ
3. å›³è¡¨ãŒã‚ã‚‹å ´åˆã¯ã€ãã®å†…å®¹ã‚’èª¬æ˜
4. é‡è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚„ãƒã‚¤ãƒ³ãƒˆã‚’è­˜åˆ¥

å‡ºåŠ›å½¢å¼ï¼š
- ãƒšãƒ¼ã‚¸ã”ã¨ã«åŒºåˆ‡ã£ã¦å‡ºåŠ›
- ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã§æ§‹é€ åŒ–`
  },
  'excel': {
    title: 'Excelå‡¦ç†',
    description: 'xlsx.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦Excelãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£æã—ã€å„ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’CSVå½¢å¼ã«å¤‰æ›ã—ã¾ã™ã€‚\n\nAIã¯ä½¿ç”¨ã›ãšã€ãƒ­ãƒ¼ã‚«ãƒ«ã§å‡¦ç†ã—ã¾ã™ã€‚',
    api: 'ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (xlsx.js)',
    filePath: 'server/utils/fileParser.ts'
  },
  'pptx': {
    title: 'PowerPoint / Wordå‡¦ç†',
    description: 'JSZipãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§OOXMLå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£å‡ã—ã€XMLã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã—ã¾ã™ã€‚\n\nã‚¹ãƒ©ã‚¤ãƒ‰ã”ã¨ãƒ»æ®µè½ã”ã¨ã«æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚AIã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚',
    api: 'ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (JSZip)',
    filePath: 'server/utils/fileParser.ts'
  },
  'audio': {
    title: 'éŸ³å£°å‡¦ç†',
    description: 'OpenAI Whisper APIã‚’ä½¿ç”¨ã—ã¦éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–‡å­—èµ·ã“ã—ã—ã¾ã™ã€‚\n\næ—¥æœ¬èªã«æœ€é©åŒ–ã•ã‚Œã¦ãŠã‚Šã€é«˜ç²¾åº¦ãªãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›ãŒå¯èƒ½ã§ã™ã€‚',
    api: 'OpenAI API (Whisper)',
    filePath: 'server/api/upload.post.ts'
  },
  'video': {
    title: 'å‹•ç”»å‡¦ç†',
    description: 'å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰éŸ³å£°ãƒˆãƒ©ãƒƒã‚¯ã‚’æŠ½å‡ºã—ã€OpenAI Whisper APIã§æ–‡å­—èµ·ã“ã—ã‚’è¡Œã„ã¾ã™ã€‚\n\né•·æ™‚é–“ã®å‹•ç”»ã‚‚å¯¾å¿œå¯èƒ½ã§ã™ã€‚',
    api: 'OpenAI API (Whisper)',
    filePath: 'server/api/upload.post.ts'
  },
  'range': {
    title: 'ç¯„å›²é¸æŠ',
    description: 'ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã‹ã‚‰ä½¿ç”¨ã™ã‚‹ç¯„å›²ã‚’é¸æŠã—ã¾ã™ã€‚ä¸è¦ãªéƒ¨åˆ†ã‚’é™¤å¤–ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šç²¾åº¦ã®é«˜ã„ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\n\né¸æŠæ–¹æ³•:\n- PDF/PPTX: ãƒšãƒ¼ã‚¸/ã‚¹ãƒ©ã‚¤ãƒ‰ç•ªå·\n- Excel: ã‚·ãƒ¼ãƒˆå\n- å…¨éƒ¨: ã™ã¹ã¦ä½¿ç”¨',
  },
  'type': {
    title: 'ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥é¸æŠ',
    description: 'ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®é¡ã‚’é¸æŠã—ã¾ã™ã€‚ç¨®åˆ¥ã«å¿œã˜ã¦æœ€é©ãªå‡¦ç†æ–¹æ³•ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚\n\nç¨®åˆ¥:\n- è¦‹æœ¬ãƒ‡ãƒ¼ã‚¿: ãŠæ‰‹æœ¬ã®ä¼šè©±ã‚„å°æœ¬\n- æ•™æãƒ‡ãƒ¼ã‚¿: å­¦ç¿’å†…å®¹ã‚„è³‡æ–™\n- è‡ªç¤¾ãƒ‡ãƒ¼ã‚¿: å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹æƒ…å ±\n- é¡§å®¢ãƒ‡ãƒ¼ã‚¿: é¡§å®¢ãƒ»å–å¼•å…ˆæƒ…å ±',
  },
  'build-start': {
    title: 'æ§‹ç¯‰ã‚¹ã‚¿ãƒ¼ãƒˆ',
    description: 'ã€Œæ§‹ç¯‰ã‚¹ã‚¿ãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰ãƒ•ãƒ­ãƒ¼ã‚’é–‹å§‹ã—ã¾ã™ã€‚\n\nãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã®å ´åˆã€ä½¿ç”¨ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã¿ã¾ã™ã€‚\nãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆã¯ç›´æ¥ã‚´ãƒ¼ãƒ«é¸æŠã«é€²ã¿ã¾ã™ã€‚',
    filePath: 'app/components/ChatArea.vue (startRoleplayGeneration)',
  },
  'file-select': {
    title: 'ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ',
    description: 'ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã€ä»Šå›ã®æ§‹ç¯‰ã«ä½¿ç”¨ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¾ã™ã€‚\n\nè¤‡æ•°é¸æŠãŒå¯èƒ½ã§ã€é¸æŠã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚',
    filePath: 'app/components/ChatArea.vue (askForFileSelection)',
  },
  'goal': {
    title: 'ã‚´ãƒ¼ãƒ«é¸æŠ',
    description: 'ãƒ­ãƒ¼ãƒ—ãƒ¬ã§é”æˆã—ãŸã„ç›®æ¨™ã‚’é¸æŠã—ã¾ã™ã€‚é¸æŠã—ãŸã‚´ãƒ¼ãƒ«ã«å¿œã˜ã¦å°æœ¬ã‚„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒæœ€é©åŒ–ã•ã‚Œã¾ã™ã€‚\n\nã‚´ãƒ¼ãƒ«:\n- æš—è¨˜: åŸºæœ¬ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’è¦šãˆã‚‹\n- åˆ‡ã‚Šè¿”ã—: åè«–ã¸ã®å¯¾å¿œåŠ›\n- ãƒ’ã‚¢ãƒªãƒ³ã‚°: æƒ…å ±å¼•ãå‡ºã—åŠ›\n- è©±ã—æ–¹: ãƒˆãƒ¼ãƒ³ã‚„è¡¨ç¾åŠ›',
  },
  'build': {
    title: 'ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰',
    description: 'OpenAI Responses APIã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã¨ã‚´ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦ãƒ­ãƒ¼ãƒ—ãƒ¬ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\n\nå‡¦ç†å†…å®¹:\n1. ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‹ã‚‰é‡è¦ãƒã‚¤ãƒ³ãƒˆã‚’æŠ½å‡º\n2. ã‚´ãƒ¼ãƒ«ã«å¿œã˜ãŸå­¦ç¿’ãƒã‚¤ãƒ³ãƒˆã‚’æ•´ç†\n3. å„ãƒ¢ãƒ¼ãƒ‰ç”¨ã®å°æœ¬ãƒ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆ',
    api: 'OpenAI Responses API (gpt-4.1)',
    filePath: 'server/api/agent/chat.post.ts',
    prompt: `ã‚ãªãŸã¯ãƒ­ãƒ¼ãƒ—ãƒ¬ï¼ˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤ãƒ³ã‚°ï¼‰å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã™ã‚‹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚

## å½¹å‰²
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¨é¸æŠã—ãŸã‚´ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦ã€åŠ¹æœçš„ãªãƒ­ãƒ¼ãƒ—ãƒ¬è¨­è¨ˆã‚’è¡Œã„ã¾ã™ã€‚

## å‡¦ç†å†…å®¹
1. ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‹ã‚‰é‡è¦ãƒã‚¤ãƒ³ãƒˆã‚’æŠ½å‡º
2. ã‚´ãƒ¼ãƒ«ã«å¿œã˜ãŸå­¦ç¿’ãƒã‚¤ãƒ³ãƒˆã‚’æ•´ç†
3. å„ãƒ¢ãƒ¼ãƒ‰ç”¨ã®å°æœ¬ãƒ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆ

## å‡ºåŠ›å½¢å¼
- ãƒã‚¤ãƒ³ãƒˆä¸€è¦§ï¼ˆQ&Aå½¢å¼ï¼‰
- æ¦‚è¦ï¼ˆãƒ­ãƒ¼ãƒ—ãƒ¬ã®ç›®çš„ã¨æµã‚Œï¼‰
- å„ãƒ¢ãƒ¼ãƒ‰ç”¨å°æœ¬`
  },
  'mode-subtitle': {
    title: 'å°æœ¬ãƒ¢ãƒ¼ãƒ‰',
    description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå°æœ¬ã‚’èª­ã¿ä¸Šã’ã€AIãŒæ­£ã—ãè©±ã›ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚\n\nãŠæ‰‹æœ¬ã®æµã‚Œã‚’å­¦ã¶å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚é–“é•ã„ãŒã‚ã‚Œã°å„ªã—ãæŒ‡æ‘˜ã—ã€å†ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’ä¿ƒã—ã¾ã™ã€‚\n\nã€ä½¿ç”¨AIãƒ¢ãƒ‡ãƒ«ã€‘\n- é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ: gpt-4.1 (Responses API)\n- ãƒ­ãƒ¼ãƒ—ãƒ¬å®Ÿè¡Œæ™‚: gpt-4o-realtime-preview (Realtime API)',
    api: 'é¡Œæç”Ÿæˆ: gpt-4.1 / å®Ÿè¡Œ: Realtime API (gpt-4o-realtime-preview)',
    filePath: 'app/components/BuildPanel.vue (modeMetaPrompts)',
    prompt: `ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå®Ÿè¡Œæ™‚ã«AIã«æ¸¡ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ã‚ãªãŸã¯å°æœ¬ãƒã‚§ãƒƒã‚¯ã®å…ˆç”Ÿã§ã™ã€‚

## ã‚ãªãŸã®å½¹å‰²
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå°æœ¬é€šã‚Šã«è©±ã›ã¦ã„ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚

## å‹•ä½œ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™ºè¨€ã‚’å°æœ¬ã¨æ¯”è¼ƒ
- æ­£ã—ãè©±ã›ã¦ã„ã‚Œã°æ¬¡ã«é€²ã‚€
- é–“é•ã„ãŒã‚ã‚Œã°å„ªã—ãæŒ‡æ‘˜ã—ã¦å†åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’ä¿ƒã™

## è©±ã—æ–¹
- å„ªã—ãåŠ±ã¾ã—ãªãŒã‚‰é€²è¡Œ
- é–“é•ã„ã‚’æã‚Œã•ã›ãªã„é›°å›²æ°—ä½œã‚Š
- æˆåŠŸæ™‚ã¯å…·ä½“çš„ã«è¤’ã‚ã‚‹

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”ŸæˆAIã«æ¸¡ã™ãƒ¡ã‚¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ã‚ãªãŸã¯ã€äººé–“ãŒAIã¨ä¼šè©±ã‚’ã™ã‚‹ã“ã¨ã§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã™ã‚‹ãŸã‚ã«ï¼¡ï¼©ã«æ¸¡ã™ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨­è¨ˆã®ãƒ—ãƒ­ã§ã‹ã¤ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã®ãƒ—ãƒ­ã§ã™ã€‚äººé–“ãŒå°æœ¬é€šã‚Šã«è©±ã›ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€ï¼¡ï¼©ã«å°æœ¬ã®ã€ŒãŠå®¢æ§˜ã€å´ã‚’æ¼”ã˜ã•ã›ãŸã„ã§ã™ã€‚å°æœ¬ã®æƒ…å ±ã¯ä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ãã®ã¾ã¾ã¤ã‹ã£ã¦ãã ã•ã„ã€‚ã¾ãŸã€ç”Ÿæˆã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å®Ÿéš›ã«ä½¿ã†æ™‚ã«ã¯ã€æœ«å°¾ã«ç›¸æ‰‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¨­å®šã‚’ã€Œã‚ãªãŸã®è¨­å®šï¼šã€ã¨ã—ã¦è¿½åŠ ã—ã¦å‹•ã‹ã—ã¾ã™ã€‚ãªã®ã§ã€ï¼¡ï¼©ã«ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çš„ãªæƒ…å ±ã‚’å…¥ã‚Œã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`
  },
  'mode-demo': {
    title: 'ãŠæ‰‹æœ¬ãƒ¢ãƒ¼ãƒ‰',
    description: 'AIãŒå…ˆç”Ÿå½¹ã¨ã—ã¦æ¨¡ç¯„çš„ãªå–¶æ¥­ãƒˆãƒ¼ã‚¯ã‚’å®Ÿæ¼”ã—ã¾ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯é¡§å®¢å½¹ã¨ã—ã¦å‚åŠ ã—ã€ãƒ—ãƒ­ã®å¯¾å¿œã‚’å­¦ã³ã¾ã™ã€‚\n\nã€ä½¿ç”¨AIãƒ¢ãƒ‡ãƒ«ã€‘\n- é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ: gpt-4.1 (Responses API)\n- ãƒ­ãƒ¼ãƒ—ãƒ¬å®Ÿè¡Œæ™‚: gpt-4o-realtime-preview (Realtime API)',
    api: 'é¡Œæç”Ÿæˆ: gpt-4.1 / å®Ÿè¡Œ: Realtime API (gpt-4o-realtime-preview)',
    filePath: 'app/components/BuildPanel.vue (modeMetaPrompts)',
    prompt: `ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå®Ÿè¡Œæ™‚ã«AIã«æ¸¡ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ã‚ãªãŸã¯ãŠæ‰‹æœ¬ã‚’è¦‹ã›ã‚‹å…ˆç”Ÿã§ã™ã€‚

## ã‚ãªãŸã®å½¹å‰²
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å–¶æ¥­ãƒˆãƒ¼ã‚¯ã®ãŠæ‰‹æœ¬ã‚’è¦‹ã›ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯é¡§å®¢å½¹ã‚’æ¼”ã˜ã¾ã™ã€‚

## å‹•ä½œ
- ãƒ—ãƒ­ã¨ã—ã¦ã®æ¨¡ç¯„çš„ãªå¯¾å¿œã‚’è¦‹ã›ã‚‹
- è³ªå•ã®ä»•æ–¹ã€ææ¡ˆã®ä»•æ–¹ã®ãŠæ‰‹æœ¬ã‚’å®Ÿæ¼”
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆé¡§å®¢å½¹ï¼‰ã®åå¿œã«æŸ”è»Ÿã«å¯¾å¿œ

## è©±ã—æ–¹
- ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ä¸å¯§
- è‡ªç„¶ãªä¼šè©±ã®æµã‚Œã‚’é‡è¦–
- å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆãŒä¼ã‚ã‚‹ã‚ˆã†ã«æ„è­˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”ŸæˆAIã«æ¸¡ã™ãƒ¡ã‚¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ã‚ãªãŸã¯ã€äººé–“ãŒAIã¨ä¼šè©±ã‚’ã™ã‚‹ã“ã¨ã§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã™ã‚‹ãŸã‚ã«ï¼¡ï¼©ã«æ¸¡ã™ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨­è¨ˆã®ãƒ—ãƒ­ã§ã‹ã¤ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã®ãƒ—ãƒ­ã§ã™ã€‚äººé–“ã«ãŠæ‰‹æœ¬ã‚’è¦‹ã›ã‚‹ï¼¡ï¼©ã‚’ã¤ãã‚ŠãŸã„ã§ã™ã€‚ãƒã‚¤ãƒ³ãƒˆã‚„å°æœ¬ï¼ˆä»Šå›ã®æ–‡è„ˆã§ã¯ã€äººé–“å´ãŒãŠå®¢æ§˜å´ã‚’ä½“é¨“ã™ã‚‹ã“ã¨ã«ãªã‚‹ï¼‰ã®æƒ…å ±ã¯ä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ãã®ã¾ã¾ã¤ã‹ã£ã¦ãã ã•ã„ã€‚ã¾ãŸã€ç”Ÿæˆã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å®Ÿéš›ã«ä½¿ã†æ™‚ã«ã¯ã€æœ«å°¾ã«ç›¸æ‰‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¨­å®šã‚’ã€Œã‚ãªãŸã®è¨­å®šï¼šã€ã¨ã—ã¦è¿½åŠ ã—ã¦å‹•ã‹ã—ã¾ã™ã€‚ãªã®ã§ã€ï¼¡ï¼©ã«ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çš„ãªæƒ…å ±ã‚’å…¥ã‚Œã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`
  },
  'mode-confirmation': {
    title: 'ç¢ºèªãƒ¢ãƒ¼ãƒ‰',
    description: 'AIãŒQ&Aå½¢å¼ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç†è§£åº¦ã‚’ç¢ºèªã—ã¾ã™ã€‚\n\nãƒã‚¤ãƒ³ãƒˆã”ã¨ã«è³ªå•ã‚’æŠ•ã’ã‹ã‘ã€ç†è§£ãŒä¸è¶³ã—ã¦ã„ã‚‹éƒ¨åˆ†ã‚’è£œè¶³èª¬æ˜ã—ã¾ã™ã€‚\n\nã€ä½¿ç”¨AIãƒ¢ãƒ‡ãƒ«ã€‘\n- é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ: gpt-4.1 (Responses API)\n- ãƒ­ãƒ¼ãƒ—ãƒ¬å®Ÿè¡Œæ™‚: gpt-4o-realtime-preview (Realtime API)',
    api: 'é¡Œæç”Ÿæˆ: gpt-4.1 / å®Ÿè¡Œ: Realtime API (gpt-4o-realtime-preview)',
    filePath: 'app/components/BuildPanel.vue (modeMetaPrompts)',
    prompt: `ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå®Ÿè¡Œæ™‚ã«AIã«æ¸¡ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ã‚ãªãŸã¯ç†è§£åº¦ã‚’ç¢ºèªã™ã‚‹å…ˆç”Ÿã§ã™ã€‚

## ã‚ãªãŸã®å½¹å‰²
Q&Aå½¢å¼ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç†è§£åº¦ã‚’ç¢ºèªã—ã¾ã™ã€‚

## å‹•ä½œ
- ãƒã‚¤ãƒ³ãƒˆã«åŸºã¥ã„ãŸè³ªå•ã‚’æŠ•ã’ã‹ã‘ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å›ç­”ã‚’è©•ä¾¡
- ä¸è¶³ãŒã‚ã‚Œã°è£œè¶³èª¬æ˜

## è©±ã—æ–¹
- è³ªå•ã¯æ˜ç¢ºã«
- å›ç­”ã¸ã®åå¿œã¯å…·ä½“çš„ã«
- é–“é•ã„ã‚‚å­¦ã³ã®æ©Ÿä¼šã¨ã—ã¦å‰å‘ãã«æ‰±ã†

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”ŸæˆAIã«æ¸¡ã™ãƒ¡ã‚¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ã‚ãªãŸã¯ã€äººé–“ãŒAIã¨ä¼šè©±ã‚’ã™ã‚‹ã“ã¨ã§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã™ã‚‹ãŸã‚ã«ï¼¡ï¼©ã«æ¸¡ã™ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨­è¨ˆã®ãƒ—ãƒ­ã§ã‹ã¤ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã®ãƒ—ãƒ­ã§ã™ã€‚äººé–“ãŒãƒã‚¤ãƒ³ãƒˆã‚’æŠ‘ãˆã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹å…ˆç”Ÿã®ï¼¡ï¼©ã‚’ã¤ãã‚ŠãŸã„ã§ã™ã€‚ç¢ºèªã™ã‚‹ãƒã‚¤ãƒ³ãƒˆã®æƒ…å ±ã¯ä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ãã®ã¾ã¾ã¤ã‹ã£ã¦ãã ã•ã„ã€‚ã¾ãŸã€ç”Ÿæˆã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å®Ÿéš›ã«ä½¿ã†æ™‚ã«ã¯ã€æœ«å°¾ã«ç›¸æ‰‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¨­å®šã‚’ã€Œã‚ãªãŸã®è¨­å®šï¼šã€ã¨ã—ã¦è¿½åŠ ã—ã¦å‹•ã‹ã—ã¾ã™ã€‚ãªã®ã§ã€ï¼¡ï¼©ã«ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çš„ãªæƒ…å ±ã‚’å…¥ã‚Œã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`
  },
  'mode-practice': {
    title: 'å®Ÿè·µãƒ¢ãƒ¼ãƒ‰',
    description: 'AIãŒé›£ã—ã„é¡§å®¢å½¹ã¨ã—ã¦æŒ¯ã‚‹èˆã„ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¯¾å¿œåŠ›ã‚’è©¦ã—ã¾ã™ã€‚\n\nãƒªã‚¢ãƒ«ãªå–¶æ¥­ã‚·ãƒ¼ãƒ³ã‚’æƒ³å®šã—ãŸå®Ÿè·µçš„ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã§ã™ã€‚\n\nã€ä½¿ç”¨AIãƒ¢ãƒ‡ãƒ«ã€‘\n- é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ: gpt-4.1 (Responses API)\n- ãƒ­ãƒ¼ãƒ—ãƒ¬å®Ÿè¡Œæ™‚: gpt-4o-realtime-preview (Realtime API)',
    api: 'é¡Œæç”Ÿæˆ: gpt-4.1 / å®Ÿè¡Œ: Realtime API (gpt-4o-realtime-preview)',
    filePath: 'app/components/BuildPanel.vue (modeMetaPrompts)',
    prompt: `ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå®Ÿè¡Œæ™‚ã«AIã«æ¸¡ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ãƒ­ãƒ¼ãƒ—ãƒ¬ã‚’ã—ãŸã„ã®ã§ã€ã‚ãªãŸã¯ãŠå®¢ã•ã‚“å½¹ã¨ã—ã¦ã€ä»¥ä¸‹ã«ç¤ºã™è¨­å®šã®å½¹ã‚’æ¼”ã˜ã¦ãã ã•ã„ã€‚

## è©±ã—æ–¹
- æ•¬èªã ãŒã€å°‘ã—é«˜åœ§çš„ãªå£èª¿ã€‚æ·¡ã€…ã¨è©±ã™
- è³ªå•ã«å›ç­”ã™ã‚‹æ™‚ã¯ã€å˜èªã‚„æƒ…å ±ã ã‘ã§ãªãã€è©±ã—è¨€è‘‰ã§ã€Œã‹ãªãã€ç­‰ã¨è©±ã™
- è³ªå•ã•ã‚ŒãŸäº‹ä»¥å¤–ã¯ç­”ãˆãªã„ãŒã€è³ªå•ã«é™„éšã™ã‚‹å†…å®¹ã¯æ•™ãˆã‚‹
- ä¸€å›ã®ç™ºè¨€ã¯30æ–‡å­—ä»¥å†…ã§ã€ç°¡æ½”ã«çŸ­ãç­”ãˆã‚‹

### å£ç™–ï¼ˆæ¯å›ä½¿ã†ã‚ã‘ã§ã¯ãªã„ï¼‰
- ã†ãƒ¼ã‚“ã€
- ã¾ã‚ã€
- â—‹â—‹ã‹ãªãã€‚
- ãã†ã ã­ãˆã€‚
- ã„ã‚„ãƒ¼

## ãƒ­ãƒ¼ãƒ—ãƒ¬ã®ã‚¯ãƒªã‚¢æ¡ä»¶
ç›¸æ‰‹ã¯ã‚ãªãŸã«å¯¾ã—ã¦ãƒ’ã‚¢ãƒªãƒ³ã‚°ã®è³ªå•ã‚’ã—ã¾ã™ã€‚
ï¼ˆæœ€é‡è¦ã®ç›®æ¨™ï¼‰ã¨ï¼ˆæœ€é‡è¦ã®èª²é¡Œï¼‰ã®å†…å®¹ã‚’å…¨ã¦ãƒ’ã‚¢ãƒªãƒ³ã‚°ã§ãã¦ã„ã‚Œã°ã€ãƒ­ãƒ¼ãƒ—ãƒ¬ã‚¯ãƒªã‚¢ã¨ã—ã¦åˆ¤å®šã—ã€æˆåŠŸã‚¹ãƒ†ãƒ¼ãƒˆã«ç§»ã£ã¦ãã ã•ã„ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”ŸæˆAIã«æ¸¡ã™ãƒ¡ã‚¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã€‘
ã‚ãªãŸã¯ã€äººé–“ãŒAIã¨ä¼šè©±ã‚’ã™ã‚‹ã“ã¨ã§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã™ã‚‹ãŸã‚ã«ï¼¡ï¼©ã«æ¸¡ã™ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨­è¨ˆã®ãƒ—ãƒ­ã§ã‹ã¤ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã®ãƒ—ãƒ­ã§ã™ã€‚äººé–“ãŒãƒã‚¤ãƒ³ãƒˆæŠ¼ã•ãˆã¦ã—ã£ã‹ã‚Šè©±ã›ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€ï¼¡ï¼©ã«ã€ŒãŠå®¢æ§˜ã€å´ã‚’æ¼”ã˜ã•ã›ãŸã„ã§ã™ã€‚ãƒã‚¤ãƒ³ãƒˆã¨å°æœ¬ã®æƒ…å ±ã¯ä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ã€ã“ã‚Œã‚’å‚è€ƒã«ã€ï¼¡ï¼©ã«ä¸ãˆã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚ç”Ÿæˆã•ã‚Œã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å®Ÿéš›ã«ä½¿ã†æ™‚ã«ã¯ã€æœ«å°¾ã«ç›¸æ‰‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¨­å®šã‚’ã€Œã‚ãªãŸã®è¨­å®šï¼šã€ã¨ã—ã¦è¿½åŠ ã—ã¦å‹•ã‹ã—ã¾ã™ã€‚ãªã®ã§ã€ï¼¡ï¼©ã«ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çš„ãªæƒ…å ±ã‚’å…¥ã‚Œã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`
  },
  'trigger-build': {
    title: 'æ§‹ç¯‰å®Œäº†æ™‚ãƒˆãƒªã‚¬ãƒ¼',
    description: 'ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰ãŒå®Œäº†ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n\nã€ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‘\n- 4ãƒ¢ãƒ¼ãƒ‰ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”ŸæˆãŒå®Œäº†ã—ãŸæ™‚\n- systemPromptsDisplayã«å€¤ãŒã‚»ãƒƒãƒˆã•ã‚ŒãŸæ™‚\n\nã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§åˆã‚ã¦åˆæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒç”Ÿæˆã•ã‚Œã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (watch: systemPromptsDisplay)',
  },
  'trigger-mode': {
    title: 'ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´æ™‚ãƒˆãƒªã‚¬ãƒ¼',
    description: 'ãƒ¢ãƒ¼ãƒ‰ï¼ˆå°æœ¬/ãŠæ‰‹æœ¬/ç¢ºèª/å®Ÿè·µï¼‰ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆãŒè‡ªå‹•ã§å†å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n\nã€ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‘\n- selectedModeãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚\n\nå¤‰æ›´å¾Œã®ãƒ¢ãƒ¼ãƒ‰ã«å¯¾å¿œã™ã‚‹é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å–å¾—ã—ã€ç¾åœ¨é¸æŠä¸­ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨åˆæˆã—ã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (watch: selectedMode)',
  },
  'trigger-character': {
    title: 'ç›¸æ‰‹å¤‰æ›´æ™‚ãƒˆãƒªã‚¬ãƒ¼',
    description: 'ç›¸æ‰‹ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼‰ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆãŒè‡ªå‹•ã§å†å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n\nã€ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‘\n- selectedCharacterãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚\n\nå¤‰æ›´å¾Œã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å–å¾—ã—ã€ç¾åœ¨é¸æŠä¸­ã®ãƒ¢ãƒ¼ãƒ‰ã®é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨åˆæˆã—ã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (watch: selectedCharacter)',
  },
  'get-subject': {
    title: 'é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå–å¾—',
    description: 'é¸æŠã•ã‚Œã¦ã„ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚\n\nã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã€‘\n- systemPromptsDisplay[selectedMode]\n\nå„ãƒ¢ãƒ¼ãƒ‰ã«ã¯æ§‹ç¯‰æ™‚ã«ç”Ÿæˆã•ã‚ŒãŸå°‚ç”¨ã®é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (getInstructionsForMode)',
  },
  'get-character': {
    title: 'äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå–å¾—',
    description: 'é¸æŠã•ã‚Œã¦ã„ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‹ã‚‰äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚\n\nã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã€‘\n- selectedCharacterInfo.value\n\näººæ ¼æƒ…å ±ã«ã¯åå‰ã€å¹´é½¢ã€å±æ€§ã€æ€§æ ¼ã€å£ç™–ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (selectedCharacterInfo)',
  },
  'prompt-display': {
    title: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤º',
    description: 'åˆæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\nã€è¡¨ç¤ºå†…å®¹ã€‘\n- é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆä¸Šéƒ¨ï¼‰\n- äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆæœ«å°¾ã«ã€Œã‚ãªãŸã®è¨­å®šï¼šã€ã¨ã—ã¦è¿½åŠ ï¼‰\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã“ã“ã§æœ€çµ‚çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç¢ºèªãƒ»ç·¨é›†ã§ãã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (mergedPrompt)',
  },
  'use-merged': {
    title: 'åˆæˆæ¸ˆã¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä½¿ç”¨',
    description: 'ãƒ­ãƒ¼ãƒ—ãƒ¬é–‹å§‹æ™‚ã«ã€äº‹å‰ã«åˆæˆæ¸ˆã¿ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n\nã€å‹•ä½œã€‘\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹åˆæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ãã®ã¾ã¾ä½¿ç”¨\n- Realtime APIã¸ã®instructionsè¨­å®šã«æ¸¡ã•ã‚Œã‚‹\n\nã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã«æ–°ãŸãªå‡¦ç†ã¯ä¸è¦ã§ã€å³åº§ã«ãƒ­ãƒ¼ãƒ—ãƒ¬ã‚’é–‹å§‹ã§ãã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (toggleRoleplay)',
  },
  'play-start': {
    title: 'ãƒ­ãƒ¼ãƒ—ãƒ¬é–‹å§‹',
    description: 'ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãƒ­ãƒ¼ãƒ—ãƒ¬ã‚’é–‹å§‹ã—ã¾ã™ã€‚\n\näº‹å‰ã«åˆæˆæ¸ˆã¿ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¦Realtime APIã¨ã®æ¥ç¶šã‚’é–‹å§‹ã—ã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (toggleRoleplay)',
  },
  'prompt-merge': {
    title: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆ',
    description: 'ãƒ¢ãƒ¼ãƒ‰ã®é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’çµåˆã—ã€æœ€çµ‚çš„ãªå®Ÿè¡Œç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n\nã€åˆæˆãƒ«ãƒ¼ãƒ«ã€‘\n1. é¸æŠã•ã‚ŒãŸãƒ¢ãƒ¼ãƒ‰ã®ã€Œé¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã‚’å–å¾—\n2. é¸æŠã•ã‚ŒãŸã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ã€Œäººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã‚’å–å¾—\n3. é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æœ«å°¾ã«ã€Œã‚ãªãŸã®è¨­å®šï¼šã€ã¨ã—ã¦äººæ ¼æƒ…å ±ã‚’è¿½åŠ \n\nåˆæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚',
    filePath: 'app/pages/content-creation.vue (getInstructionsForMode)',
    prompt: `ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆæˆã®æµã‚Œã€‘

1. é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰å–å¾—ï¼‰
   - ä¾‹ï¼šã€Œã‚ãªãŸã¯å°æœ¬ãƒã‚§ãƒƒã‚¯ã®å…ˆç”Ÿã§ã™...ã€

2. äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‹ã‚‰å–å¾—ï¼‰
   - ä¾‹ï¼šã€Œã‚ãªãŸã®è¨­å®šï¼š
     - åå‰: ç”°ä¸­å¤ªéƒ
     - å¹´é½¢: 35æ­³
     - å±æ€§: å–¶æ¥­éƒ¨é•·
     - æ€§æ ¼: å³ã—ã„ãŒé¢å€’è¦‹ãŒè‰¯ã„
     - å£ç™–: ã€Œçµè«–ã‹ã‚‰è¨€ã†ã¨...ã€ã€

3. æœ€çµ‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ = é¡Œæãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ + äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ`
  },
  'realtime': {
    title: 'éŸ³å£°ä¼šè©±',
    description: 'OpenAI Realtime APIã‚’ä½¿ç”¨ã—ã¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®éŸ³å£°ä¼šè©±ã‚’å®Ÿç¾ã—ã¾ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™ºè©±ã‚’å³åº§ã«èªè­˜ã—ã€AIãŒè‡ªç„¶ãªéŸ³å£°ã§å¿œç­”ã—ã¾ã™ã€‚WebSocketã§ã‚µãƒ¼ãƒãƒ¼ã¨å¸¸æ™‚æ¥ç¶šã—ã€ä½é…å»¶ã§ã®ä¼šè©±ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚\n\nã€ä½¿ç”¨AIãƒ¢ãƒ‡ãƒ«ã€‘\n- gpt-4o-realtime-preview (Realtime API)',
    api: 'OpenAI Realtime API (gpt-4o-realtime-preview)',
    filePath: 'app/composables/useRealtimeAPI.ts'
  },
  'feedback': {
    title: 'è©•ä¾¡ç”Ÿæˆ',
    description: 'ä¼šè©±ãƒ­ã‚°ã‚’åˆ†æã—ã€100ç‚¹æº€ç‚¹ã§æ¡ç‚¹ãƒ»è©•ä¾¡ã‚’è¡Œã„ã¾ã™ã€‚\n\nå„ãƒã‚¤ãƒ³ãƒˆã«ã¤ã„ã¦æ­£ç­”ç‡ã‚’è¨ˆç®—ã—ã€å…·ä½“çš„ãªæ”¹å–„ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚',
    api: 'OpenAI Responses API (gpt-4.1)',
    filePath: 'prompts/evaluation/feedback.md',
    prompt: `ã‚ãªãŸã¯ãƒ­ãƒ¼ãƒ—ãƒ¬å­¦ç¿’ã®è©•ä¾¡ã‚’è¡Œã†å°‚é–€å®¶ã§ã™ã€‚

## ã‚ãªãŸã®å½¹å‰²
ã€Œã‚ãªãŸã€ï¼ˆå­¦ç¿’è€…ï¼‰ãŒä»¥ä¸‹ã®ãƒªã‚¹ãƒˆã®å•ã«å¯¾ã—ã¦ã€æ­£è§£ã‚’ãƒ’ãƒ³ãƒˆã‚’ã‚‚ã‚‰ã‚ãšã«ç­”ãˆã‚‰ã‚Œã¦ã„ã‚‹ã‹ã§æ¡ç‚¹ã—ã¦ãã ã•ã„ã€‚

## æ¡ç‚¹ãƒ«ãƒ¼ãƒ«
- æ­£è§£ã‚„ãƒ’ãƒ³ãƒˆã‚’ç›¸æ‰‹ã‹ã‚‰ã‚‚ã‚‰ã£ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚å¤šãã‚ã‚Šã¾ã™ãŒã€ã“ã®å ´åˆã¯æ¸›ç‚¹ã¾ãŸã¯ï¼ç‚¹ã¨ã—ã¦ãã ã•ã„
- å„å•ã«å¯¾ã—ã¦æ¡ç‚¹ã‚’è¡Œã„ã€å…¨ä½“ã§100ç‚¹æº€ç‚¹ã§æ•´æ•°å€¤ã§æ¡ç‚¹ã—ã¦ãã ã•ã„

## æ¡ç‚¹åŸºæº–
- å„ãƒã‚¤ãƒ³ãƒˆã«ã¤ã„ã¦ã€è‡ªåŠ›ã§æ­£è§£ã§ãã¦ã„ã‚‹å ´åˆï¼šæº€ç‚¹
- éƒ¨åˆ†çš„ã«æ­£è§£ã ãŒä¸è¶³ãŒã‚ã‚‹å ´åˆï¼š50ã€œ80%ã®ç‚¹æ•°
- ãƒ’ãƒ³ãƒˆã‚’ã‚‚ã‚‰ã£ã¦ç­”ãˆãŸå ´åˆï¼š20ã€œ40%ã®ç‚¹æ•°
- å…¨ãç­”ãˆã‚‰ã‚Œãªã‹ã£ãŸã€ã¾ãŸã¯èª¤ç­”ã®å ´åˆï¼š0ç‚¹`
  },
  'result': {
    title: 'çµæœè¡¨ç¤º',
    description: 'ãƒ­ãƒ¼ãƒ—ãƒ¬ã®è©•ä¾¡çµæœã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n\nè¡¨ç¤ºå†…å®¹:\n- ç·åˆã‚¹ã‚³ã‚¢ï¼ˆ100ç‚¹æº€ç‚¹ï¼‰\n- å„ãƒã‚¤ãƒ³ãƒˆã®é”æˆåº¦\n- æ”¹å–„ã‚¢ãƒ‰ãƒã‚¤ã‚¹\n\nçµæœã¯å±¥æ­´ã¨ã—ã¦ä¿å­˜ã•ã‚Œã€æˆé•·ã‚’è¿½è·¡ã§ãã¾ã™ã€‚',
  }
}

const openPopup = (nodeId: string) => {
  currentNodeId.value = nodeId
  const info = nodeInfoMap[nodeId]
  if (info) {
    popupTitle.value = info.title
    popupDescription.value = info.description
    popupApi.value = info.api || ''
    popupPrompt.value = info.prompt || ''
    popupFilePath.value = info.filePath || ''
    showPopup.value = true
  }
}

const getApiColor = (api: string) => {
  if (api.includes('Realtime')) return 'info'
  if (api.includes('Responses')) return 'success'
  if (api.includes('OpenAI')) return 'success'
  if (api.includes('Claude')) return 'orange'
  if (api.includes('ãƒ©ã‚¤ãƒ–ãƒ©ãƒª')) return 'neutral'
  return 'neutral'
}

const copyPrompt = async () => {
  if (popupPrompt.value) {
    await navigator.clipboard.writeText(popupPrompt.value)
  }
}

const savePrompt = async () => {
  // TODO: ã‚µãƒ¼ãƒãƒ¼ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä¿å­˜
  console.log('Saving prompt for:', currentNodeId.value, popupPrompt.value)
  showPopup.value = false
}
</script>

<style scoped>
.prompts-page {
  padding: 24px;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.page-header {
  margin-bottom: 8px;
}

.page-title {
  font-size: 24px;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: 4px;
}

.page-description {
  font-size: 13px;
  color: #64748b;
}

/* ãƒ•ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
.flow-section {
  background: white;
  border-radius: 12px;
  border: 1px solid #e2e8f0;
  overflow: hidden;
}

.flow-section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 20px;
  background: #f8fafc;
  border-bottom: 1px solid #e2e8f0;
}

.flow-section-number {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  font-size: 14px;
  font-weight: 700;
  border-radius: 50%;
}

.flow-section-title {
  font-size: 16px;
  font-weight: 600;
  color: #1e293b;
}

.flow-section-badge {
  font-size: 10px;
  padding: 3px 8px;
  border-radius: 12px;
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  color: #92400e;
  font-weight: 600;
  margin-left: auto;
}

/* ãƒ•ãƒ­ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ */
.flow-container {
  padding: 24px;
  overflow-x: auto;
}

.flow-line {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: fit-content;
}

/* æ¨™æº–ãƒãƒ¼ãƒ‰ */
.flow-node {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 12px 16px;
  border-radius: 10px;
  background: white;
  border: 2px solid #e2e8f0;
  cursor: pointer;
  transition: all 0.2s;
  min-width: 140px;
}

.flow-node:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.node-header {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.node-icon {
  font-size: 18px;
}

.node-label {
  font-size: 13px;
  font-weight: 600;
  color: #374151;
}

.node-desc {
  font-size: 11px;
  color: #6b7280;
  padding-left: 26px;
}

/* ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—åˆ¥ */
.flow-node-start {
  border-color: #10b981;
  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
}

.flow-node-end {
  border-color: #f59e0b;
  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
}

.flow-node-question {
  border-color: #8b5cf6;
  background: #faf5ff;
}

.flow-node-ai {
  border-color: #10b981;
  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
}

.flow-node-realtime {
  border-color: #0ea5e9;
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
}

.flow-node-data {
  border-color: #94a3b8;
  background: #f8fafc;
}

/* çŸ¢å° */
.flow-arrow {
  color: #9ca3af;
  font-size: 18px;
  font-weight: bold;
  flex-shrink: 0;
}

/* ç¸¦åˆ†å² */
.flow-branch-vertical {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  background: #f8fafc;
  border-radius: 12px;
  border: 1px dashed #cbd5e1;
}

.branch-header {
  font-size: 11px;
  font-weight: 600;
  color: #64748b;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  text-align: center;
}

.branch-items-vertical {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* ãƒŸãƒ‹ãƒãƒ¼ãƒ‰ï¼ˆåˆ†å²å†…ï¼‰ */
.flow-node-mini {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 8px;
  background: white;
  border: 1px solid #e2e8f0;
  cursor: pointer;
  transition: all 0.15s;
}

.flow-node-mini:hover {
  background: #f8fafc;
  border-color: #cbd5e1;
}

.flow-node-mini.flow-node-mode {
  border-left: 3px solid #3b82f6;
}

.node-icon-mini {
  font-size: 14px;
  flex-shrink: 0;
}

.node-label-mini {
  font-size: 12px;
  font-weight: 600;
  color: #374151;
  flex-shrink: 0;
}

.node-desc-mini {
  font-size: 10px;
  color: #9ca3af;
  margin-left: auto;
}

/* APIãƒãƒƒã‚¸ */
.node-api {
  font-size: 9px;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 600;
  flex-shrink: 0;
  margin-left: auto;
}

.api-openai {
  background: #dcfce7;
  color: #166534;
}

.api-lib {
  background: #f3f4f6;
  color: #6b7280;
}

.api-responses {
  background: #d1fae5;
  color: #065f46;
}

.api-realtime {
  background: #dbeafe;
  color: #1e40af;
}

/* APIå‡¡ä¾‹ */
.api-legend {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 16px;
  background: #f8fafc;
  border-radius: 8px;
  font-size: 11px;
  color: #64748b;
  flex-wrap: wrap;
}

.legend-title {
  font-weight: 600;
  color: #475569;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— */
.popup-content {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.popup-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.popup-section-title {
  font-size: 12px;
  font-weight: 600;
  color: #64748b;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.popup-copy-btn {
  margin-left: auto;
}

.popup-description {
  font-size: 14px;
  line-height: 1.6;
  color: #374151;
  margin: 0;
  white-space: pre-wrap;
}

.popup-prompt-textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
  font-size: 12px;
  line-height: 1.5;
  color: #334155;
  background: #f8fafc;
  resize: vertical;
}

.popup-prompt-textarea:focus {
  outline: none;
  border-color: #0ea5e9;
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
}

.popup-file-path {
  font-size: 11px;
  color: #94a3b8;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
}

.popup-footer {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
@media (max-width: 768px) {
  .prompts-page {
    padding: 16px;
  }

  .page-title {
    font-size: 20px;
  }

  .api-legend {
    gap: 8px;
  }

  .flow-node {
    min-width: 120px;
    padding: 10px 12px;
  }

  .node-label {
    font-size: 12px;
  }
}
</style>
