# ãƒŠãƒ¬ãƒˆãƒ¬ Nuxtå®Ÿè£…ä»•æ§˜æ›¸

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
å…ƒã®å®Ÿè£…(`naretore-design`)ã‚’Vue 3 + Nuxt 3 + TypeScript + Tailwind CSSã§å†æ§‹ç¯‰

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Nuxt 3.15.1, Vue 3.5.25
- **è¨€èª**: TypeScript (strict mode)
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS v4
- **AI API**: Anthropic Claude API, OpenAI Realtime API
- **ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†**: pdf-parse, xlsx (SheetJS)

## å®Œäº†æ¸ˆã¿å®Ÿè£…

### Phase 1: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ & ãƒ‘ãƒ¼ã‚¹
- âœ… å‹å®šç¾©: `app/types/file.ts`
- âœ… ã‚µãƒ¼ãƒãƒ¼ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£: `server/utils/fileParser.ts`
  - PDFè§£æ (å‹•çš„importå¯¾å¿œ)
  - Excelè§£æ (xlsxçµ±åˆ)
  - ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è§£æ
- âœ… APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:
  - `server/api/upload.post.ts` - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  - `server/api/files.get.ts` - ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§å–å¾—
- âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: `app/composables/useFileUpload.ts`
- âœ… UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: `app/components/FileUpload.vue` (ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œ)
- âœ… Vite/Nitroè¨­å®š: Windowsçµ¶å¯¾ãƒ‘ã‚¹å•é¡Œè§£æ±ºæ¸ˆã¿

### Phase 2: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµ±åˆ
- âœ… å‹å®šç¾©: `app/types/agent.ts`
- âœ… AIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: `server/utils/anthropic.ts`, `server/utils/openai.ts`
- âœ… ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼: `server/utils/prompt.ts`
- âœ… ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: `public/prompts/*.md` (10ãƒ•ã‚¡ã‚¤ãƒ«)
- âœ… APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: `server/api/agents.post.ts` (4ç¨®é¡ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå¯¾å¿œ)

## æœªå®Ÿè£…æ©Ÿèƒ½ãƒªã‚¹ãƒˆ (39é …ç›®)

### ğŸ­ ãƒ­ãƒ¼ãƒ—ãƒ¬æ§‹ç¯‰ãƒšãƒ¼ã‚¸ (19é …ç›®)

#### ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
1. **AIä¼šè©±ã‚µãƒãƒ¼ãƒˆ** - Anthropic APIã§ãƒãƒ£ãƒƒãƒˆå¿œç­”ç”Ÿæˆ
2. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰çµ±åˆ** - ãƒãƒ£ãƒƒãƒˆå†…ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«æ·»ä»˜ã¨ãƒ‰ãƒ­ãƒƒãƒ—
3. **ãƒ•ã‚¡ã‚¤ãƒ«ç¨®åˆ¥è‡ªå‹•åˆ¤å®š** - AIã«ã‚ˆã‚‹æ•™æ/ãƒ­ãƒ¼ãƒ—ãƒ¬/ãã®ä»–ã®åˆ†é¡

#### ã‚³ãƒ¼ã‚¹ç®¡ç†
4. **CRUDæ©Ÿèƒ½** - ã‚«ãƒ†ã‚´ãƒªãƒ¼/ãƒ¬ãƒ™ãƒ«/ãƒ¬ãƒƒã‚¹ãƒ³ã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
5. **éšå±¤æ§‹é€ è¡¨ç¤º** - ãƒ„ãƒªãƒ¼å½¢å¼ã§ã®ã‚³ãƒ¼ã‚¹ç®¡ç†UI

#### ãƒ­ãƒ¼ãƒ—ãƒ¬ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
6. **ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°** - ç”Ÿæˆæ™‚ã®å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«
7. **Agentã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼** - è¤‡æ•°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®é€£æºå‡¦ç†
8. **å°æœ¬ç”Ÿæˆ** - å­—å¹•ãƒ¢ãƒ¼ãƒ‰/ãƒã‚¤ãƒ³ãƒˆãƒ¢ãƒ¼ãƒ‰/ç·´ç¿’ãƒ¢ãƒ¼ãƒ‰ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
9. **ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ** - 4ãƒ¢ãƒ¼ãƒ‰(å°æœ¬/ãŠæ‰‹æœ¬/ç¢ºèª/å®Ÿè·µ)ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

#### ãƒ­ãƒ¼ãƒ—ãƒ¬è¨­è¨ˆãƒ•ã‚©ãƒ¼ãƒ 
10. **è¨­è¨ˆãƒ•ã‚©ãƒ¼ãƒ ** - ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³/ç›¸æ‰‹è¨­å®š/ãƒŸãƒƒã‚·ãƒ§ãƒ³/ãƒã‚¤ãƒ³ãƒˆå…¥åŠ›

#### ãƒ†ã‚¹ãƒˆã‚¨ãƒªã‚¢ (Realtime API)
11. **éŸ³å£°å…¥å‡ºåŠ›** - WebRTC + Realtime APIå®Œå…¨å®Ÿè£…
12. **WebSocketç®¡ç†** - æ¥ç¶šçŠ¶æ…‹ç®¡ç†ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
13. **ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ** - å°æœ¬/ãŠæ‰‹æœ¬/ç¢ºèª/å®Ÿè·µã®4ãƒ¢ãƒ¼ãƒ‰
14. **ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯è¡¨ç¤º** - ã‚¹ã‚³ã‚¢/é”æˆé …ç›®/æ”¹å–„ç‚¹ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤
15. **ã‚¨ãƒªã‚¢é–‹é–‰** - ãƒ†ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿

#### ãƒ“ãƒ‡ã‚ªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
16. **5ãƒ“ãƒ‡ã‚ªã‚¹ãƒ­ãƒƒãƒˆ** - IDLE/SPEAKING/VIDEO3/VIDEO4/VIDEO5
17. **ãƒ“ãƒ‡ã‚ªD&D** - ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
18. **çŠ¶æ…‹åˆ‡ã‚Šæ›¿ãˆ** - idle â‡” speakingè‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ

#### ãã®ä»–
19. **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®šãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—** - è©³ç´°è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«

### ğŸ“Š ã‚µãƒãƒªãƒ¼ãƒšãƒ¼ã‚¸ (6é …ç›®)
20. **Chart.jsçµ±åˆ** - ãƒˆãƒ¬ãƒ³ãƒ‰ã‚°ãƒ©ãƒ•
21. **ãƒ¬ãƒƒã‚¹ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼** - éšå±¤çš„ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
22. **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼** - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸æŠUI
23. **æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼** - æœˆç¯„å›²é¸æŠ
24. **è¡¨ç¤ºå˜ä½åˆ‡ã‚Šæ›¿ãˆ** - ãƒ¬ãƒƒã‚¹ãƒ³/ãƒ¬ãƒ™ãƒ«/ã‚«ãƒ†ã‚´ãƒªãƒ¼
25. **ã‚µãƒãƒªãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«** - é›†è¨ˆãƒ‡ãƒ¼ã‚¿è¡¨ç¤º

### ğŸ‘¤ å€‹äººè¨˜éŒ²ãƒšãƒ¼ã‚¸ (2é …ç›®)
26. **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒªã‚¹ãƒˆ** - ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«
27. **å€‹äººè©³ç´°** - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥è©³ç´°ãƒ‡ãƒ¼ã‚¿

### ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒšãƒ¼ã‚¸ (2é …ç›®)
28. **ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«** - ã‚¹ã‚³ã‚¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º
29. **ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½** - å„åˆ—ã§ã®ã‚½ãƒ¼ãƒˆ

### ğŸ“ ãƒ­ã‚°ãƒšãƒ¼ã‚¸ (3é …ç›®)
30. **ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«** - å…¨ã‚»ãƒƒã‚·ãƒ§ãƒ³å±¥æ­´
31. **ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³** - ãƒšãƒ¼ã‚¸é€ã‚Šæ©Ÿèƒ½
32. **ã‚«ãƒ©ãƒ ã‚½ãƒ¼ãƒˆ** - ãƒ†ãƒ¼ãƒ–ãƒ«åˆ—ã‚½ãƒ¼ãƒˆ

### ğŸ“ ãƒ‡ãƒ¼ã‚¿èª­è¾¼ãƒšãƒ¼ã‚¸ (4é …ç›®)
33. **CSVèª­ã¿è¾¼ã¿** - CSVãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ãƒ¼ã‚¹
34. **çµ±è¨ˆè¡¨ç¤º** - ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°/ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°/æœŸé–“
35. **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«** - ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
36. **ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿** - è‡ªå‹•èª­ã¿è¾¼ã¿æ©Ÿèƒ½

### ğŸŒ å…±é€šæ©Ÿèƒ½ (3é …ç›®)
37. **ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼** - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚µã‚¤ãƒ‰ãƒãƒ¼
38. **ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ** - ãƒšãƒ¼ã‚¸é·ç§»ç®¡ç†
39. **ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ** - èªè¨¼è§£é™¤

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
naretore-nuxt/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ file.ts (å®Œäº†)
â”‚   â”‚   â”œâ”€â”€ agent.ts (å®Œäº†)
â”‚   â”‚   â””â”€â”€ roleplay.ts (è¦ä½œæˆ)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ FileUpload.vue (å®Œäº†)
â”‚   â”‚   â”œâ”€â”€ ChatArea.vue (è¦å®Ÿè£…)
â”‚   â”‚   â”œâ”€â”€ RoleplayDesignForm.vue (è¦å®Ÿè£…)
â”‚   â”‚   â”œâ”€â”€ FileSelectionDialog.vue (è¦å®Ÿè£…)
â”‚   â”‚   â””â”€â”€ CharacterSettingsPopup.vue (è¦å®Ÿè£…)
â”‚   â”œâ”€â”€ composables/
â”‚   â”‚   â”œâ”€â”€ useFileUpload.ts (å®Œäº†)
â”‚   â”‚   â”œâ”€â”€ useAgent.ts (è¦ä½œæˆ)
â”‚   â”‚   â””â”€â”€ useRealtime.ts (è¦ä½œæˆ)
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ index.vue (åŸºæœ¬æ§‹é€ ã®ã¿)
â”‚       â””â”€â”€ content-creation.vue (è¦ä½œæˆ)
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ upload.post.ts (å®Œäº†)
â”‚   â”‚   â”œâ”€â”€ files.get.ts (å®Œäº†)
â”‚   â”‚   â”œâ”€â”€ agents.post.ts (å®Œäº†)
â”‚   â”‚   â””â”€â”€ realtime-session.post.ts (è¦ä½œæˆ)
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ fileParser.ts (å®Œäº†)
â”‚       â”œâ”€â”€ anthropic.ts (å®Œäº†)
â”‚       â”œâ”€â”€ openai.ts (å®Œäº†)
â”‚       â””â”€â”€ prompt.ts (å®Œäº†)
â””â”€â”€ public/
    â””â”€â”€ prompts/ (å®Œäº† - 10ãƒ•ã‚¡ã‚¤ãƒ«)
```

## é‡è¦ãªæŠ€è¡“çš„æ³¨æ„äº‹é …

### Windowsçµ¶å¯¾ãƒ‘ã‚¹å•é¡Œ
- **å•é¡Œ**: ESMãƒ­ãƒ¼ãƒ€ãƒ¼ãŒ`C:\...`å½¢å¼ã‚’æ‹’å¦
- **è§£æ±ºæ¸ˆã¿**:
  - `xlsx`: `import { read, utils } from 'xlsx'` + Nitro externals inline
  - `pdf-parse`: å‹•çš„import `await import('pdf-parse').then(m => m.default || m)`

### Nuxtè¨­å®š (nuxt.config.ts)
```typescript
vite: {
  optimizeDeps: { exclude: ['xlsx'] },
  ssr: { noExternal: ['xlsx'] }
},
nitro: {
  experimental: { websocket: true },
  externals: { inline: ['xlsx', 'pdf-parse'] }
}
```

### APIç’°å¢ƒå¤‰æ•°
- `ANTHROPIC_API_KEY` - Claude APIç”¨
- `OPENAI_API_KEY` - Realtime APIç”¨

## å®Ÿè£…å„ªå…ˆé †ä½

### High Priority
1. ãƒ­ãƒ¼ãƒ—ãƒ¬ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ (é …ç›®6-9)
2. Realtime APIå®Œå…¨å®Ÿè£… (é …ç›®11-12)
3. ãƒ“ãƒ‡ã‚ªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ (é …ç›®16-18)

### Medium Priority
4. ã‚³ãƒ¼ã‚¹ç®¡ç† (é …ç›®4-5)
5. ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ (é …ç›®1-3)
6. ã‚µãƒãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ (é …ç›®20-25)

### Low Priority
7. ãƒ­ã‚°ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½
8. ãƒ‡ãƒ¼ã‚¿èª­è¾¼æ©Ÿèƒ½

## å…ƒã®å®Ÿè£…å‚ç…§
- HTML: `naretore-design/public/index.html`
- JS: `naretore-design/public/js/*.js`
- CSS: `naretore-design/public/css/styles.css`

## ç¾åœ¨ã®ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹
- URL: http://localhost:5000/
- çŠ¶æ…‹: æ­£å¸¸ç¨¼åƒä¸­
- ã‚¨ãƒ©ãƒ¼: ãªã—
